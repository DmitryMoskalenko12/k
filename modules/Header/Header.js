'use client';
import { useState, useEffect } from 'react';
import classes from './header.module.scss';
import Hamburger from '@/ui/Hamburger/Hamburger';
import cn from 'classnames';
import Link from 'next/link';
import LanguageChanger from '@/components/LangaugeChanger/LanguageChanger';
import { useTranslation } from 'react-i18next';

const Header = () => {
  const [active, setActive] = useState(false);
  const { t } = useTranslation('main');

  useEffect(() => {
    if (active) {
      document.querySelector('body').style.overflow = 'hidden';
    } else {
      document.querySelector('body').style.overflow = 'initial';
    }
  }, [active]);

  return (
    <header className={classes.header}>
      <div className='container'>
        <div className={classes.wrapper}>
          <Link
            onClick={() => setActive(false)}
            className={classes.logo}
            href='/'
          >
            <svg
              className={classes.mobile}
              width='63'
              height='22'
              viewBox='0 0 63 22'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path
                d='M0 6C0 3.79086 1.79086 2 4 2L14 2C16.2091 2 18 3.79086 18 6V16C18 18.2091 16.2091 20 14 20H4C1.79086 20 0 18.2091 0 16L0 6Z'
                fill='#0072DE'
              />
              <path
                d='M6.72 16V6.28H8.868V10.252L10.5 6.28H12.6L10.8 10.672L12.684 16H10.5L9.096 11.704L8.868 12.088V16H6.72Z'
                fill='white'
              />
              <path
                d='M20.816 18V5.04H23.328V12.224L25.216 8.752H28.112L25.888 12.544L28.096 18H25.28L23.904 13.6L23.328 14.48V18H20.816ZM29.2283 20.688V18.88C29.5589 18.88 29.8309 18.8587 30.0443 18.816C30.2683 18.7733 30.4336 18.6933 30.5403 18.576C30.6576 18.4587 30.7163 18.2987 30.7163 18.096C30.7163 17.9147 30.6843 17.696 30.6203 17.44C30.5563 17.1733 30.4763 16.8747 30.3803 16.544L28.2043 8.752H30.6523L31.8203 14.096L32.7003 8.752H35.1643L33.0363 18.224C32.8976 18.864 32.6789 19.36 32.3802 19.712C32.0816 20.0747 31.7136 20.3253 31.2763 20.464C30.8496 20.6133 30.3643 20.688 29.8203 20.688H29.2283ZM36.1761 18V8.752H38.7841V10.288C39.0828 9.75467 39.3815 9.34933 39.6801 9.072C39.9788 8.784 40.3415 8.64 40.7681 8.64C40.8535 8.64 40.9281 8.64533 40.9921 8.656C41.0561 8.656 41.1148 8.66667 41.1681 8.688V11.28C41.0508 11.2267 40.9175 11.184 40.7681 11.152C40.6295 11.1093 40.4801 11.088 40.3201 11.088C40.0215 11.088 39.7441 11.168 39.4881 11.328C39.2321 11.488 38.9975 11.7067 38.7841 11.984V18H36.1761ZM45.1171 18.16C44.3065 18.16 43.6291 17.9787 43.0851 17.616C42.5518 17.2533 42.1145 16.6613 41.7731 15.84L43.5491 15.056C43.7198 15.472 43.9171 15.8027 44.1411 16.048C44.3758 16.2827 44.6318 16.4 44.9091 16.4C45.1118 16.4 45.2611 16.3573 45.3571 16.272C45.4638 16.1867 45.5171 16.0693 45.5171 15.92C45.5171 15.6747 45.4211 15.4507 45.2291 15.248C45.0478 15.0453 44.7171 14.7467 44.2371 14.352L43.5651 13.792C43.0745 13.376 42.6851 12.976 42.3971 12.592C42.1198 12.1973 41.9811 11.712 41.9811 11.136C41.9811 10.6347 42.1091 10.192 42.3651 9.808C42.6318 9.424 42.9838 9.12533 43.4211 8.912C43.8585 8.69867 44.3278 8.592 44.8291 8.592C45.5971 8.592 46.2371 8.8 46.7491 9.216C47.2611 9.632 47.6238 10.2187 47.8371 10.976L46.1251 11.744C46.0611 11.5413 45.9705 11.3387 45.8531 11.136C45.7358 10.9333 45.5971 10.7627 45.4371 10.624C45.2771 10.4853 45.0958 10.416 44.8931 10.416C44.7225 10.416 44.5838 10.464 44.4771 10.56C44.3811 10.656 44.3331 10.784 44.3331 10.944C44.3331 11.1467 44.4451 11.3653 44.6691 11.6C44.9038 11.8347 45.2238 12.1173 45.6291 12.448L46.2851 13.024C46.5518 13.248 46.8131 13.488 47.0691 13.744C47.3251 14 47.5331 14.2827 47.6931 14.592C47.8638 14.9013 47.9491 15.2533 47.9491 15.648C47.9491 16.1813 47.8158 16.64 47.5491 17.024C47.2825 17.3973 46.9305 17.68 46.4931 17.872C46.0665 18.064 45.6078 18.16 45.1171 18.16ZM52.0904 18.16C51.429 18.16 50.853 18.048 50.3624 17.824C49.8824 17.6 49.509 17.264 49.2424 16.816C48.9864 16.368 48.8584 15.808 48.8584 15.136V11.616C48.8584 10.944 48.9864 10.384 49.2424 9.936C49.509 9.488 49.8824 9.152 50.3624 8.928C50.853 8.704 51.429 8.592 52.0904 8.592C52.7517 8.592 53.3224 8.704 53.8024 8.928C54.293 9.152 54.6717 9.488 54.9384 9.936C55.205 10.384 55.3384 10.944 55.3384 11.616V15.136C55.3384 15.808 55.205 16.368 54.9384 16.816C54.6717 17.264 54.293 17.6 53.8024 17.824C53.3224 18.048 52.7517 18.16 52.0904 18.16ZM52.1064 16.432C52.277 16.432 52.4104 16.3893 52.5064 16.304C52.6024 16.208 52.6664 16.08 52.6984 15.92C52.741 15.7493 52.7624 15.5467 52.7624 15.312V11.44C52.7624 11.2053 52.741 11.008 52.6984 10.848C52.6664 10.6773 52.6024 10.5493 52.5064 10.464C52.4104 10.368 52.277 10.32 52.1064 10.32C51.9357 10.32 51.8024 10.368 51.7064 10.464C51.6104 10.5493 51.541 10.6773 51.4984 10.848C51.4557 11.008 51.4344 11.2053 51.4344 11.44V15.312C51.4344 15.5467 51.4557 15.7493 51.4984 15.92C51.541 16.08 51.6104 16.208 51.7064 16.304C51.8024 16.3893 51.9357 16.432 52.1064 16.432ZM56.8168 18V8.752H59.4248V10.288C59.7234 9.75467 60.0221 9.34933 60.3208 9.072C60.6194 8.784 60.9821 8.64 61.4088 8.64C61.4941 8.64 61.5688 8.64533 61.6328 8.656C61.6968 8.656 61.7554 8.66667 61.8088 8.688V11.28C61.6914 11.2267 61.5581 11.184 61.4088 11.152C61.2701 11.1093 61.1208 11.088 60.9608 11.088C60.6621 11.088 60.3848 11.168 60.1288 11.328C59.8728 11.488 59.6381 11.7067 59.4248 11.984V18H56.8168Z'
                fill='#15171E'
              />
            </svg>
            <svg
              className={classes.desktop}
              width='100'
              height='34'
              viewBox='0 0 100 34'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path
                d='M0 9C0 4.58172 3.58172 1 8 1L24 1C28.4183 1 32 4.58172 32 9V25C32 29.4183 28.4183 33 24 33H8C3.58172 33 0 29.4183 0 25L0 9Z'
                fill='#0072DE'
              />
              <path
                d='M12.08 25V10.42H15.302V16.378L17.75 10.42H20.9L18.2 17.008L21.026 25H17.75L15.644 18.556L15.302 19.132V25H12.08Z'
                fill='white'
              />
              <path
                d='M37.224 28V8.56H40.992V19.336L43.824 14.128H48.168L44.832 19.816L48.144 28H43.92L41.856 21.4L40.992 22.72V28H37.224ZM49.8424 32.032V29.32C50.3384 29.32 50.7464 29.288 51.0664 29.224C51.4024 29.16 51.6504 29.04 51.8104 28.864C51.9864 28.688 52.0744 28.448 52.0744 28.144C52.0744 27.872 52.0264 27.544 51.9304 27.16C51.8344 26.76 51.7144 26.312 51.5704 25.816L48.3064 14.128H51.9784L53.7304 22.144L55.0504 14.128H58.7464L55.5544 28.336C55.3464 29.296 55.0184 30.04 54.5704 30.568C54.1224 31.112 53.5704 31.488 52.9144 31.696C52.2744 31.92 51.5464 32.032 50.7304 32.032H49.8424ZM60.2642 28V14.128H64.1762V16.432C64.6242 15.632 65.0722 15.024 65.5202 14.608C65.9682 14.176 66.5122 13.96 67.1522 13.96C67.2802 13.96 67.3922 13.968 67.4882 13.984C67.5842 13.984 67.6722 14 67.7522 14.032V17.92C67.5762 17.84 67.3762 17.776 67.1522 17.728C66.9442 17.664 66.7202 17.632 66.4802 17.632C66.0322 17.632 65.6162 17.752 65.2322 17.992C64.8482 18.232 64.4962 18.56 64.1762 18.976V28H60.2642ZM73.6757 28.24C72.4597 28.24 71.4437 27.968 70.6277 27.424C69.8277 26.88 69.1717 25.992 68.6597 24.76L71.3237 23.584C71.5797 24.208 71.8757 24.704 72.2117 25.072C72.5637 25.424 72.9477 25.6 73.3637 25.6C73.6677 25.6 73.8917 25.536 74.0357 25.408C74.1957 25.28 74.2757 25.104 74.2757 24.88C74.2757 24.512 74.1317 24.176 73.8437 23.872C73.5717 23.568 73.0757 23.12 72.3557 22.528L71.3477 21.688C70.6117 21.064 70.0277 20.464 69.5957 19.888C69.1797 19.296 68.9717 18.568 68.9717 17.704C68.9717 16.952 69.1637 16.288 69.5477 15.712C69.9477 15.136 70.4757 14.688 71.1317 14.368C71.7877 14.048 72.4917 13.888 73.2437 13.888C74.3957 13.888 75.3557 14.2 76.1237 14.824C76.8917 15.448 77.4357 16.328 77.7557 17.464L75.1877 18.616C75.0917 18.312 74.9557 18.008 74.7797 17.704C74.6037 17.4 74.3957 17.144 74.1557 16.936C73.9157 16.728 73.6437 16.624 73.3397 16.624C73.0837 16.624 72.8757 16.696 72.7157 16.84C72.5717 16.984 72.4997 17.176 72.4997 17.416C72.4997 17.72 72.6677 18.048 73.0037 18.4C73.3557 18.752 73.8357 19.176 74.4437 19.672L75.4277 20.536C75.8277 20.872 76.2197 21.232 76.6037 21.616C76.9877 22 77.2997 22.424 77.5397 22.888C77.7957 23.352 77.9237 23.88 77.9237 24.472C77.9237 25.272 77.7237 25.96 77.3237 26.536C76.9237 27.096 76.3957 27.52 75.7397 27.808C75.0997 28.096 74.4117 28.24 73.6757 28.24ZM84.1356 28.24C83.1436 28.24 82.2796 28.072 81.5436 27.736C80.8236 27.4 80.2636 26.896 79.8636 26.224C79.4796 25.552 79.2876 24.712 79.2876 23.704V18.424C79.2876 17.416 79.4796 16.576 79.8636 15.904C80.2636 15.232 80.8236 14.728 81.5436 14.392C82.2796 14.056 83.1436 13.888 84.1356 13.888C85.1276 13.888 85.9836 14.056 86.7036 14.392C87.4396 14.728 88.0076 15.232 88.4076 15.904C88.8076 16.576 89.0076 17.416 89.0076 18.424V23.704C89.0076 24.712 88.8076 25.552 88.4076 26.224C88.0076 26.896 87.4396 27.4 86.7036 27.736C85.9836 28.072 85.1276 28.24 84.1356 28.24ZM84.1596 25.648C84.4156 25.648 84.6156 25.584 84.7596 25.456C84.9036 25.312 84.9996 25.12 85.0476 24.88C85.1116 24.624 85.1436 24.32 85.1436 23.968V18.16C85.1436 17.808 85.1116 17.512 85.0476 17.272C84.9996 17.016 84.9036 16.824 84.7596 16.696C84.6156 16.552 84.4156 16.48 84.1596 16.48C83.9036 16.48 83.7036 16.552 83.5596 16.696C83.4156 16.824 83.3116 17.016 83.2476 17.272C83.1836 17.512 83.1516 17.808 83.1516 18.16V23.968C83.1516 24.32 83.1836 24.624 83.2476 24.88C83.3116 25.12 83.4156 25.312 83.5596 25.456C83.7036 25.584 83.9036 25.648 84.1596 25.648ZM91.2251 28V14.128H95.1371V16.432C95.5851 15.632 96.0331 15.024 96.4811 14.608C96.9291 14.176 97.4731 13.96 98.1131 13.96C98.2411 13.96 98.3531 13.968 98.4491 13.984C98.5451 13.984 98.6331 14 98.7131 14.032V17.92C98.5371 17.84 98.3371 17.776 98.1131 17.728C97.9051 17.664 97.6811 17.632 97.4411 17.632C96.9931 17.632 96.5771 17.752 96.1931 17.992C95.8091 18.232 95.4571 18.56 95.1371 18.976V28H91.2251Z'
                fill='#15171E'
              />
            </svg>
          </Link>

          <div
            className={cn(classes.navBlock, {
              [classes.activeNavBlock]: active,
            })}
          >
            <LanguageChanger />

            <nav className={classes.navigagion}>
              <ul className={classes.list}>
                <li className={classes.li}>
                  <Link
                    onClick={() => setActive(false)}
                    className={classes.link}
                    href='/#services'
                  >
                    {t('services')}
                  </Link>
                </li>
                <li className={classes.li}>
                  <Link
                    onClick={() => setActive(false)}
                    className={classes.link}
                    href='/#works'
                  >
                    {t('works')}
                  </Link>
                </li>
                <li className={classes.li}>
                  <Link
                    onClick={() => setActive(false)}
                    className={classes.link}
                    href='/#benefits'
                  >
                    {t('benefits')}
                  </Link>
                </li>
                <li className={classes.li}>
                  <Link
                    onClick={() => setActive(false)}
                    className={classes.link}
                    href='/#contacts'
                  >
                    {t('contacts')}
                  </Link>
                </li>
              </ul>
            </nav>

            <div className={classes.contactsBlock}>
              <a className={classes.linkPhone} href='tel:380633784500'>
                <svg
                  width='32'
                  height='32'
                  viewBox='0 0 32 32'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <rect width='32' height='32' rx='6' fill='#FFFEFE' />
                  <path
                    d='M23.314 18.9631L19.4575 17.2348C19.2828 17.16 19.0922 17.1299 18.9029 17.1473C18.7136 17.1647 18.5316 17.229 18.3734 17.3344C18.3574 17.3448 18.3421 17.3562 18.3277 17.3687L16.3121 19.0831C16.2912 19.0945 16.2679 19.1009 16.2441 19.1017C16.2203 19.1026 16.1966 19.0979 16.175 19.088C14.8794 18.4626 13.5373 17.1287 12.9096 15.8511C12.8991 15.8298 12.8937 15.8063 12.8937 15.7825C12.8937 15.7588 12.8991 15.7353 12.9096 15.714L14.6296 13.6731C14.642 13.658 14.6534 13.6422 14.6639 13.6257C14.7679 13.467 14.8307 13.2848 14.8467 13.0957C14.8626 12.9065 14.8312 12.7164 14.7553 12.5424L13.0394 8.6925C12.9419 8.46523 12.7734 8.2757 12.5591 8.15235C12.3448 8.029 12.0962 7.97849 11.8508 8.00839C10.784 8.14864 9.80473 8.67253 9.09606 9.48216C8.38739 10.2918 7.99777 11.3318 8.00001 12.4077C8.00001 18.7998 13.2002 24 19.5922 24C20.6682 24.0021 21.708 23.6124 22.5176 22.9037C23.3272 22.1951 23.8512 21.216 23.9916 20.1492C24.0214 19.9049 23.9716 19.6575 23.8495 19.4438C23.7274 19.2301 23.5396 19.0615 23.314 18.9631ZM19.5922 23.0204C13.7406 23.0204 8.97963 18.2594 8.97963 12.4077C8.97691 11.5701 9.27924 10.7601 9.83015 10.1291C10.3811 9.49814 11.1429 9.08932 11.9732 8.97904H11.992C12.0249 8.97965 12.0568 8.99019 12.0836 9.00927C12.1104 9.02836 12.1308 9.05509 12.1422 9.08598L13.8647 12.9318C13.8745 12.9532 13.8796 12.9765 13.8796 13C13.8796 13.0235 13.8745 13.0468 13.8647 13.0682L12.1414 15.114C12.1286 15.1286 12.1168 15.1442 12.1063 15.1605C11.9984 15.3251 11.9349 15.5148 11.9219 15.7112C11.9089 15.9075 11.9468 16.1039 12.032 16.2813C12.7561 17.7638 14.25 19.2463 15.7488 19.9705C15.9273 20.0552 16.1247 20.0922 16.3217 20.0778C16.5187 20.0635 16.7086 19.9984 16.873 19.8888C16.8885 19.8782 16.904 19.8668 16.9187 19.8545L18.9334 18.1402C18.9533 18.1295 18.9753 18.1232 18.9979 18.1218C19.0204 18.1204 19.043 18.1239 19.0641 18.132L22.9213 19.8602C22.9528 19.8737 22.9793 19.8967 22.997 19.926C23.0148 19.9553 23.0228 19.9894 23.0201 20.0235C22.9104 20.8543 22.502 21.6166 21.8711 22.1681C21.2403 22.7197 20.4302 23.0226 19.5922 23.0204Z'
                    fill='#15171E'
                  />
                </svg>
                <span className={classes.phone}>+38 (063) 37 84 500</span>
              </a>
              <a className={classes.linkPhone} href='tel:37066552742'>
                <svg
                  width='32'
                  height='32'
                  viewBox='0 0 32 32'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <rect width='32' height='32' rx='6' fill='#FFFEFE' />
                  <path
                    d='M23.314 18.9631L19.4575 17.2348C19.2828 17.16 19.0922 17.1299 18.9029 17.1473C18.7136 17.1647 18.5316 17.229 18.3734 17.3344C18.3574 17.3448 18.3421 17.3562 18.3277 17.3687L16.3121 19.0831C16.2912 19.0945 16.2679 19.1009 16.2441 19.1017C16.2203 19.1026 16.1966 19.0979 16.175 19.088C14.8794 18.4626 13.5373 17.1287 12.9096 15.8511C12.8991 15.8298 12.8937 15.8063 12.8937 15.7825C12.8937 15.7588 12.8991 15.7353 12.9096 15.714L14.6296 13.6731C14.642 13.658 14.6534 13.6422 14.6639 13.6257C14.7679 13.467 14.8307 13.2848 14.8467 13.0957C14.8626 12.9065 14.8312 12.7164 14.7553 12.5424L13.0394 8.6925C12.9419 8.46523 12.7734 8.2757 12.5591 8.15235C12.3448 8.029 12.0962 7.97849 11.8508 8.00839C10.784 8.14864 9.80473 8.67253 9.09606 9.48216C8.38739 10.2918 7.99777 11.3318 8.00001 12.4077C8.00001 18.7998 13.2002 24 19.5922 24C20.6682 24.0021 21.708 23.6124 22.5176 22.9037C23.3272 22.1951 23.8512 21.216 23.9916 20.1492C24.0214 19.9049 23.9716 19.6575 23.8495 19.4438C23.7274 19.2301 23.5396 19.0615 23.314 18.9631ZM19.5922 23.0204C13.7406 23.0204 8.97963 18.2594 8.97963 12.4077C8.97691 11.5701 9.27924 10.7601 9.83015 10.1291C10.3811 9.49814 11.1429 9.08932 11.9732 8.97904H11.992C12.0249 8.97965 12.0568 8.99019 12.0836 9.00927C12.1104 9.02836 12.1308 9.05509 12.1422 9.08598L13.8647 12.9318C13.8745 12.9532 13.8796 12.9765 13.8796 13C13.8796 13.0235 13.8745 13.0468 13.8647 13.0682L12.1414 15.114C12.1286 15.1286 12.1168 15.1442 12.1063 15.1605C11.9984 15.3251 11.9349 15.5148 11.9219 15.7112C11.9089 15.9075 11.9468 16.1039 12.032 16.2813C12.7561 17.7638 14.25 19.2463 15.7488 19.9705C15.9273 20.0552 16.1247 20.0922 16.3217 20.0778C16.5187 20.0635 16.7086 19.9984 16.873 19.8888C16.8885 19.8782 16.904 19.8668 16.9187 19.8545L18.9334 18.1402C18.9533 18.1295 18.9753 18.1232 18.9979 18.1218C19.0204 18.1204 19.043 18.1239 19.0641 18.132L22.9213 19.8602C22.9528 19.8737 22.9793 19.8967 22.997 19.926C23.0148 19.9553 23.0228 19.9894 23.0201 20.0235C22.9104 20.8543 22.502 21.6166 21.8711 22.1681C21.2403 22.7197 20.4302 23.0226 19.5922 23.0204Z'
                    fill='#15171E'
                  />
                </svg>
                <span className={classes.phone}>+37 (066) 55 27 42</span>
              </a>
              <a className={classes.linkEmail} href='mailto:reo@kyrsor.com'>
                <svg
                  width='32'
                  height='32'
                  viewBox='0 0 32 32'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <rect width='32' height='32' rx='6' fill='#FFFEFE' />
                  <path
                    d='M9.58325 9.58334H21.4999C22.2293 9.58334 22.9287 9.87307 23.4445 10.3888C23.9602 10.9045 24.2499 11.604 24.2499 12.3333V20.5833C24.2499 21.3127 23.9602 22.0122 23.4445 22.5279C22.9287 23.0436 22.2293 23.3333 21.4999 23.3333H9.58325C8.85391 23.3333 8.15443 23.0436 7.63871 22.5279C7.12298 22.0122 6.83325 21.3127 6.83325 20.5833V12.3333C6.83325 11.604 7.12298 10.9045 7.63871 10.3888C8.15443 9.87307 8.85391 9.58334 9.58325 9.58334ZM9.58325 10.5C9.12492 10.5 8.72159 10.6558 8.40992 10.9308L15.5416 15.5417L22.6733 10.9308C22.3616 10.6558 21.9583 10.5 21.4999 10.5H9.58325ZM15.5416 16.6508L7.86909 11.6733C7.79575 11.875 7.74992 12.1042 7.74992 12.3333V20.5833C7.74992 21.0696 7.94307 21.5359 8.28689 21.8797C8.63071 22.2235 9.09702 22.4167 9.58325 22.4167H21.4999C21.9861 22.4167 22.4525 22.2235 22.7963 21.8797C23.1401 21.5359 23.3333 21.0696 23.3333 20.5833V12.3333C23.3333 12.1042 23.2874 11.875 23.2141 11.6733L15.5416 16.6508Z'
                    fill='#15171E'
                  />
                </svg>
                <span className={classes.email}>reo@kyrsor.com</span>
              </a>
            </div>
          </div>
          <Hamburger setActive={setActive} active={active} />
        </div>
      </div>
    </header>
  );
};

export default Header;
